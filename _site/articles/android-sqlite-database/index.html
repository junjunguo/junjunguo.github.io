<!doctype html>
<!--[if lt IE 7]><html class="no-js lt-ie9 lt-ie8 lt-ie7" lang="en"> <![endif]-->
<!--[if (IE 7)&!(IEMobile)]><html class="no-js lt-ie9 lt-ie8" lang="en"><![endif]-->
<!--[if (IE 8)&!(IEMobile)]><html class="no-js lt-ie9" lang="en"><![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en"><!--<![endif]-->
<head>
<meta charset="utf-8">
<title>Android Saving Data in SQLite Database &#8211; GuoJunjun's Tech Blog</title>
<meta name="description" content="How to implement SQLite for Android applications">
<meta name="keywords" content="SQLite, Database, Android, code, Java, Mobile, GUI">


<!-- Twitter Cards -->
<meta name="twitter:title" content="Android Saving Data in SQLite Database">
<meta name="twitter:description" content="How to implement SQLite for Android applications">



<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:image" content="https://www.junjunguo.com/images/summer2014-115.jpg">

<!-- Open Graph -->
<meta property="og:locale" content="en_US">
<meta property="og:type" content="article">
<meta property="og:title" content="Android Saving Data in SQLite Database">
<meta property="og:description" content="How to implement SQLite for Android applications">
<meta property="og:url" content="https://www.junjunguo.com/articles/android-sqlite-database/">
<meta property="og:site_name" content="GuoJunjun's Tech Blog">


<meta name="msvalidate.01" content="5CBE5B96A4448FF4606A09686D87D9D5">


<link rel="canonical" href="https://www.junjunguo.com/articles/android-sqlite-database/">
<link href="https://www.junjunguo.com/feed.xml" type="application/atom+xml" rel="alternate" title="GuoJunjun's Tech Blog Feed">

<!-- http://t.co/dKP3o1e -->
<meta name="HandheldFriendly" content="True">
<meta name="MobileOptimized" content="320">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- For all browsers -->
<link rel="stylesheet" href="./assets/js/scripts.min.jscss/main.css">
<!-- Webfonts -->
<script src="//use.edgefonts.net/source-sans-pro:n2,i2,n3,i3,n4,i4,n6,i6,n7,i7,n9,i9;source-code-pro:n4,n7;volkhov.js"></script>

<meta http-equiv="cleartype" content="on">

<!-- HTML5 Shiv and Media Query Support -->
<!--[if lt IE 9]>
  <script src="./assets/js/scripts.min.jsjs/vendor/html5shiv.min.js"></script>
  <script src="./assets/js/scripts.min.jsjs/vendor/respond.min.js"></script>
<![endif]-->

<!-- Modernizr -->
<script src="./assets/js/scripts.min.jsjs/vendor/modernizr-2.7.1.custom.min.js"></script>

<!-- Icons -->
<!-- 16x16 -->
<link rel="shortcut icon" href="https://www.junjunguo.com/favicon.ico">
<!-- 32x32 -->
<link rel="shortcut icon" href="https://www.junjunguo.com/favicon.png">
<!-- 57x57 (precomposed) for iPhone 3GS, pre-2011 iPod Touch and older Android devices -->
<link rel="apple-touch-icon-precomposed" href="https://www.junjunguo.com/images/apple-touch-icon-precomposed.png">
<!-- 72x72 (precomposed) for 1st generation iPad, iPad 2 and iPad mini -->
<link rel="apple-touch-icon-precomposed" sizes="72x72" href="https://www.junjunguo.com/images/apple-touch-icon-72x72-precomposed.png">
<!-- 114x114 (precomposed) for iPhone 4, 4S, 5 and post-2011 iPod Touch -->
<link rel="apple-touch-icon-precomposed" sizes="114x114" href="https://www.junjunguo.com/images/apple-touch-icon-114x114-precomposed.png">
<!-- 144x144 (precomposed) for iPad 3rd and 4th generation -->
<link rel="apple-touch-icon-precomposed" sizes="144x144" href="https://www.junjunguo.com/images/apple-touch-icon-144x144-precomposed.png">

</head>

<body id="post">

<div class="navigation-wrapper">
	<nav role="navigation" id="site-nav" class="animated drop">
	    <ul>
      
		    
		    <li><a href="https://www.junjunguo.com/tech.html" >Latest</a></li>
		  
		    
		    <li><a href="https://www.junjunguo.com/blog/" >Blog</a></li>
		  
		    
		    <li><a href="https://www.junjunguo.com/tags/" >Tags</a></li>
		  
		    
		    <li><a href="https://www.junjunguo.com/search/" >Search</a></li>
		  
		    
		    <li><a href="https://www.junjunguo.com/index.html" >About</a></li>
		  
	    </ul>
	</nav>
</div><!-- /.navigation-wrapper -->

<!--[if lt IE 9]><div class="upgrade"><strong><a href="http://whatbrowser.org/">Your browser is quite old!</strong> Why not upgrade to a different browser to better enjoy this site?</a></div><![endif]-->

<header class="masthead">
	
		<div class="wrap">
			<a href="https://www.junjunguo.com/" class="site-logo" rel="home" title="GuoJunjun's Tech Blog"><img src="https://www.junjunguo.com/images/site-logo.png" width="200" height="200" alt="GuoJunjun's Tech Blog logo" class="animated bounceInDown"></a>
		</div>
	
</header><!-- /.masthead -->


<div class="js-menu-screen menu-screen"></div>

<div id="main" role="main">
  <article class="hentry">
    <img src="https://www.junjunguo.com/images/summer2014-115.jpg" class="entry-feature-image" alt="Android Saving Data in SQLite Database" ><p class="image-credit">Photo Credit: <a href="https://junjunguo.github.io">GuoJunjun</a>
    <div class="entry-wrapper">
      <header class="entry-header">
        <span class="entry-tags"><a href="https://www.junjunguo.com/tags/#SQLite" title="Pages tagged SQLite">SQLite</a>&nbsp;&bull;&nbsp;<a href="https://www.junjunguo.com/tags/#Database" title="Pages tagged Database">Database</a>&nbsp;&bull;&nbsp;<a href="https://www.junjunguo.com/tags/#Android" title="Pages tagged Android">Android</a>&nbsp;&bull;&nbsp;<a href="https://www.junjunguo.com/tags/#code" title="Pages tagged code">code</a>&nbsp;&bull;&nbsp;<a href="https://www.junjunguo.com/tags/#Java" title="Pages tagged Java">Java</a>&nbsp;&bull;&nbsp;<a href="https://www.junjunguo.com/tags/#Mobile" title="Pages tagged Mobile">Mobile</a>&nbsp;&bull;&nbsp;<a href="https://www.junjunguo.com/tags/#GUI" title="Pages tagged GUI">GUI</a></span>
        
          <h1 class="entry-title">Android Saving Data in SQLite Database</h1>
        
      </header>
      <footer class="entry-meta">
        
        
          <img src="https://www.junjunguo.com/images/bio-photo.jpg" class="bio-photo" alt="GuoJunjun bio photo"></a>
        
        <span class="author vcard">By <span class="fn">GuoJunjun</span></span>
        <span class="entry-date date published"><time datetime="2015-03-08T00:00:00+01:00"><i class="fa fa-calendar-o"></i> March 08, 2015</time></span>
        
        <span class="entry-comments"><i class="fa fa-comment-o"></i> <a href="#disqus_thread">Comment</a></span>
        <span class="social-share-twitter">
  <a href="https://twitter.com/intent/tweet?hashtags=SQLite,Database,Android,code,Java,Mobile,GUI&amp;text=Android%20Saving%20Data%20in%20SQLite%20Database&amp;url=https://www.junjunguo.com/articles/android-sqlite-database/" title="Share on Twitter" itemprop="Twitter"><i class="fa fa-twitter-square"></i> Tweet</a>
</span>
<span class="social-share-facebook">
  <a href="https://www.facebook.com/sharer/sharer.php?u=https://www.junjunguo.com/articles/android-sqlite-database/" title="Share on Facebook" itemprop="Facebook"><i class="fa fa-facebook-square"></i> Like</a>
</span>
<span class="social-share-googleplus">
  <a href="https://plus.google.com/share?url=https://www.junjunguo.com/articles/android-sqlite-database/" title="Share on Google Plus" itemprop="GooglePlus"><i class="fa fa-google-plus-square"></i> +1</a>
</span>
<!-- /.social-share -->
        
      </footer>
      <div class="entry-content">
        <p>This tutorial describes how to use SQLite database in Android applications. The example code creates a <a href="https://junjunguo.github.io/articles/android-list_view/">ListView</a> in the main Activity to show the data entries, and also creates another window activity for write new data entries.</p>

<h1 class="no_toc" id="contents">Contents</h1>

<ul id="markdown-toc">
  <li><a href="#sqlite-and-android-database" id="markdown-toc-sqlite-and-android-database">SQLite and Android database</a>    <ul>
      <li><a href="#saving-data-in-databases" id="markdown-toc-saving-data-in-databases">Saving Data in Databases</a></li>
      <li><a href="#sqlite" id="markdown-toc-sqlite">SQLite</a></li>
      <li><a href="#sqlite-in-android" id="markdown-toc-sqlite-in-android">SQLite in Android</a></li>
    </ul>
  </li>
  <li><a href="#saving-data-in-sqlite-database" id="markdown-toc-saving-data-in-sqlite-database">Saving Data in SQLite Database</a>    <ul>
      <li><a href="#about-the-project" id="markdown-toc-about-the-project">About the project</a></li>
      <li><a href="#create-a-class-to-hold-our-table-names" id="markdown-toc-create-a-class-to-hold-our-table-names">Create a class to hold our table names</a></li>
      <li><a href="#use-sqliteopenhelper" id="markdown-toc-use-sqliteopenhelper">Use SQLiteOpenHelper</a></li>
      <li><a href="#create-data-access-object" id="markdown-toc-create-data-access-object">Create Data Access Object</a></li>
      <li><a href="#create-a-textreport-class" id="markdown-toc-create-a-textreport-class">Create a TextReport class</a></li>
      <li><a href="#implement-listview-to-show-data-entries" id="markdown-toc-implement-listview-to-show-data-entries">Implement ListView to show data entries</a></li>
      <li><a href="#implement-write-text-window" id="markdown-toc-implement-write-text-window">Implement write text window</a></li>
      <li><a href="#actionbar-menu" id="markdown-toc-actionbar-menu">ActionBar menu</a></li>
    </ul>
  </li>
</ul>

<h1 id="sqlite-and-android-database">SQLite and Android database</h1>

<h2 id="saving-data-in-databases">Saving Data in Databases</h2>
<p>When the application will generate a large amount of data, especially when the data is structured or repeated, use a database is ideal to organize and handle the generated data.</p>

<h2 id="sqlite">SQLite</h2>
<p>SQLite is an Open Source database, <a href="http://www.sqlite.org/">SQLite</a> is a most widely deployed SQL database engine in the world. It is small in size and requires a small size of memory to run.</p>

<h2 id="sqlite-in-android">SQLite in Android</h2>
<p>Android organize all applications in blocks(each application is putted in a box, applications are not supposed to communicate or access to other boxes, unless we setted it to do so), which means applications do not have access to each other by default. Any databases being created will be accessible by name to any class in the application, but not outside the application. Android provides full support for SQLite databases (include all sdk versions). So we have no reason to not use SQLite.</p>

<h1 id="saving-data-in-sqlite-database">Saving Data in SQLite Database</h1>

<h2 id="about-the-project">About the project</h2>
<p>The following demonstration will show how to implement SQLite for Android applications by some example code.</p>

<ul>
  <li>We will first extends SQLiteOpenHelper, which will help us to managing database creation.</li>
  <li>And use a Data Access Object (DAO) to manage querying for us.</li>
  <li>We will also create a class for holding all our table names and column names, which will make us easier to organize, maintain tables and columns, specially when we have a lot of tables.</li>
  <li>We will create a data type class to hold data entry as an object.</li>
  <li>write text will be setted to its own window.</li>
  <li>In the end we will implement a ListView to show all data entries.</li>
</ul>

<blockquote>
  <p>the example code is built with Android Studio; Minimum Sdk Version: 11; Target Sdk Version 21.</p>
</blockquote>

<p>Here is how the project looks like when it is done:</p>

<p><img src="https://raw.githubusercontent.com/junjunguo/android/master/SQLiteDB/send.png" alt="screenshot" />
<img src="https://raw.githubusercontent.com/junjunguo/android/master/SQLiteDB/view.png" alt="screenshot" /></p>

<h2 id="create-a-class-to-hold-our-table-names">Create a class to hold our table names</h2>
<p>create a class for holding all our table names and column names, which will make us easier to organize, 
maintain tables and columns, specially when we have a lot of tables. We organize each table as a inner class.</p>

<figure class="highlight"><pre><code class="language-java" data-lang="java"><span></span><span class="kd">public</span> <span class="kd">class</span> <span class="nc">DBtables</span> <span class="o">{</span>
    <span class="c1">// To prevent someone from accidentally instantiating the contract class, give it an empty constructor.</span>
    <span class="kd">public</span> <span class="nf">DBtables</span><span class="o">()</span> <span class="o">{}</span>

    <span class="cm">/* Inner class that defines the table contents */</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kd">abstract</span> <span class="kd">class</span> <span class="nc">TextReport</span> <span class="kd">implements</span> <span class="n">BaseColumns</span> <span class="o">{</span>
        <span class="kd">public</span> <span class="kd">static</span> <span class="kd">final</span> <span class="n">String</span> <span class="n">TABLE_NAME</span> <span class="o">=</span> <span class="s">&quot;textreport&quot;</span><span class="o">;</span>
        <span class="kd">public</span> <span class="kd">static</span> <span class="kd">final</span> <span class="n">String</span> <span class="n">COLUMN_NUSER_ID</span> <span class="o">=</span> <span class="s">&quot;userid&quot;</span><span class="o">;</span>
        <span class="kd">public</span> <span class="kd">static</span> <span class="kd">final</span> <span class="n">String</span> <span class="n">COLUMN_REPORT</span> <span class="o">=</span> <span class="s">&quot;report&quot;</span><span class="o">;</span>
        <span class="kd">public</span> <span class="kd">static</span> <span class="kd">final</span> <span class="n">String</span> <span class="n">COLUMN_ISREPOETED</span> <span class="o">=</span> <span class="s">&quot;isreported&quot;</span><span class="o">;</span>
        <span class="kd">public</span> <span class="kd">static</span> <span class="kd">final</span> <span class="n">String</span> <span class="n">COLUMN_DATETIME</span> <span class="o">=</span> <span class="s">&quot;datetime&quot;</span><span class="o">;</span>
        <span class="kd">public</span> <span class="kd">static</span> <span class="kd">final</span> <span class="n">String</span> <span class="n">COLUMN_LATITUDE</span> <span class="o">=</span> <span class="s">&quot;latitude&quot;</span><span class="o">;</span>
        <span class="kd">public</span> <span class="kd">static</span> <span class="kd">final</span> <span class="n">String</span> <span class="n">COLUMN_LONGITUDE</span> <span class="o">=</span> <span class="s">&quot;longtitude&quot;</span><span class="o">;</span>
        <span class="kd">public</span> <span class="kd">static</span> <span class="kd">final</span> <span class="n">String</span> <span class="n">PRIMARY_KEY</span> <span class="o">=</span> <span class="s">&quot;PRIMARY KEY (&quot;</span> <span class="o">+</span> <span class="n">COLUMN_NUSER_ID</span> <span class="o">+</span> <span class="s">&quot;,&quot;</span> <span class="o">+</span> <span class="n">COLUMN_REPORT</span> <span class="o">+</span>
                <span class="s">&quot;,&quot;</span> <span class="o">+</span> <span class="n">COLUMN_LONGITUDE</span> <span class="o">+</span> <span class="s">&quot;,&quot;</span> <span class="o">+</span> <span class="n">COLUMN_LATITUDE</span> <span class="o">+</span> <span class="s">&quot;)&quot;</span><span class="o">;</span>
        <span class="kd">public</span> <span class="kd">static</span> <span class="kd">final</span> <span class="n">String</span><span class="o">[]</span> <span class="n">ALL_COLUMNS</span> <span class="o">=</span>
                <span class="o">{</span><span class="n">COLUMN_NUSER_ID</span><span class="o">,</span> <span class="n">COLUMN_REPORT</span><span class="o">,</span> <span class="n">COLUMN_ISREPOETED</span><span class="o">,</span> <span class="n">COLUMN_DATETIME</span><span class="o">,</span> <span class="n">COLUMN_LATITUDE</span><span class="o">,</span> <span class="n">COLUMN_LONGITUDE</span><span class="o">};</span>
    <span class="o">}</span>
<span class="o">}</span></code></pre></figure>

<h2 id="use-sqliteopenhelper">Use SQLiteOpenHelper</h2>
<p>Use SQLiteOpenHelper to help us create database:</p>

<figure class="highlight"><pre><code class="language-java" data-lang="java"><span></span><span class="kd">public</span> <span class="kd">class</span> <span class="nc">DBhelper</span> <span class="kd">extends</span> <span class="n">SQLiteOpenHelper</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kd">final</span> <span class="n">String</span> <span class="n">DB_NAME</span> <span class="o">=</span> <span class="s">&quot;mydatabase.db&quot;</span><span class="o">;</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kd">final</span> <span class="kt">int</span> <span class="n">DB_VERSION</span> <span class="o">=</span> <span class="mi">1</span><span class="o">;</span>

    <span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="n">String</span> <span class="n">TEXT_TYPE</span> <span class="o">=</span> <span class="s">&quot; TEXT&quot;</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="n">String</span> <span class="n">REAL_TYPE</span> <span class="o">=</span> <span class="s">&quot; REAL&quot;</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="n">String</span> <span class="n">NUMERIC_TYPE</span> <span class="o">=</span> <span class="s">&quot; NUMERIC&quot;</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="n">String</span> <span class="n">COMMA_SEP</span> <span class="o">=</span> <span class="s">&quot;,&quot;</span><span class="o">;</span>

    <span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="n">String</span> <span class="n">CREATE_TEXTREPORT_TABLE</span> <span class="o">=</span> <span class="s">&quot;CREATE TABLE &quot;</span> <span class="o">+</span> <span class="n">DBtables</span><span class="o">.</span><span class="na">TextReport</span><span class="o">.</span><span class="na">TABLE_NAME</span> <span class="o">+</span> <span class="s">&quot; (&quot;</span> <span class="o">+</span>
            <span class="n">DBtables</span><span class="o">.</span><span class="na">TextReport</span><span class="o">.</span><span class="na">COLUMN_NUSER_ID</span> <span class="o">+</span> <span class="n">TEXT_TYPE</span> <span class="o">+</span> <span class="n">COMMA_SEP</span> <span class="o">+</span>
            <span class="n">DBtables</span><span class="o">.</span><span class="na">TextReport</span><span class="o">.</span><span class="na">COLUMN_REPORT</span> <span class="o">+</span> <span class="n">TEXT_TYPE</span> <span class="o">+</span> <span class="n">COMMA_SEP</span> <span class="o">+</span>
            <span class="n">DBtables</span><span class="o">.</span><span class="na">TextReport</span><span class="o">.</span><span class="na">COLUMN_DATETIME</span> <span class="o">+</span> <span class="n">NUMERIC_TYPE</span> <span class="o">+</span> <span class="n">COMMA_SEP</span> <span class="o">+</span>
            <span class="n">DBtables</span><span class="o">.</span><span class="na">TextReport</span><span class="o">.</span><span class="na">COLUMN_ISREPOETED</span> <span class="o">+</span> <span class="n">NUMERIC_TYPE</span> <span class="o">+</span> <span class="n">COMMA_SEP</span> <span class="o">+</span>
            <span class="n">DBtables</span><span class="o">.</span><span class="na">TextReport</span><span class="o">.</span><span class="na">COLUMN_LONGITUDE</span> <span class="o">+</span> <span class="n">REAL_TYPE</span> <span class="o">+</span> <span class="n">COMMA_SEP</span> <span class="o">+</span>
            <span class="n">DBtables</span><span class="o">.</span><span class="na">TextReport</span><span class="o">.</span><span class="na">COLUMN_LATITUDE</span> <span class="o">+</span> <span class="n">REAL_TYPE</span> <span class="o">+</span> <span class="n">COMMA_SEP</span> <span class="o">+</span>
            <span class="n">DBtables</span><span class="o">.</span><span class="na">TextReport</span><span class="o">.</span><span class="na">PRIMARY_KEY</span> <span class="o">+</span>
            <span class="s">&quot; )&quot;</span><span class="o">;</span>

    <span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="n">String</span> <span class="n">DELETE_TEXTREPORT_TABLE</span> <span class="o">=</span> <span class="s">&quot;DROP TABLE IF EXISTS &quot;</span> <span class="o">+</span> <span class="n">DBtables</span><span class="o">.</span><span class="na">TextReport</span><span class="o">.</span><span class="na">TABLE_NAME</span><span class="o">;</span>

    <span class="kd">public</span> <span class="nf">DBhelper</span><span class="o">(</span><span class="n">Context</span> <span class="n">context</span><span class="o">)</span> <span class="o">{</span>
        <span class="kd">super</span><span class="o">(</span><span class="n">context</span><span class="o">,</span> <span class="n">DB_NAME</span><span class="o">,</span> <span class="kc">null</span><span class="o">,</span> <span class="n">DB_VERSION</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onCreate</span><span class="o">(</span><span class="n">SQLiteDatabase</span> <span class="n">db</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">db</span><span class="o">.</span><span class="na">execSQL</span><span class="o">(</span><span class="n">CREATE_TEXTREPORT_TABLE</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onUpgrade</span><span class="o">(</span><span class="n">SQLiteDatabase</span> <span class="n">db</span><span class="o">,</span> <span class="kt">int</span> <span class="n">oldVersion</span><span class="o">,</span> <span class="kt">int</span> <span class="n">newVersion</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">db</span><span class="o">.</span><span class="na">execSQL</span><span class="o">(</span><span class="n">CREATE_TEXTREPORT_TABLE</span><span class="o">);</span>
        <span class="n">onCreate</span><span class="o">(</span><span class="n">db</span><span class="o">);</span>
    <span class="o">}</span>
<span class="o">}</span></code></pre></figure>

<h2 id="create-data-access-object">Create Data Access Object</h2>

<p>We implement a Data Access Object (DAO) to manage the query.</p>

<figure class="highlight"><pre><code class="language-java" data-lang="java"><span></span><span class="kd">public</span> <span class="kd">class</span> <span class="nc">DAOtextReport</span> <span class="o">{</span>
    <span class="kd">private</span> <span class="n">SQLiteDatabase</span> <span class="n">database</span><span class="o">;</span>
    <span class="kd">private</span> <span class="n">DBhelper</span> <span class="n">dbHelper</span><span class="o">;</span>

    <span class="kd">public</span> <span class="nf">DAOtextReport</span><span class="o">(</span><span class="n">Context</span> <span class="n">context</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">dbHelper</span> <span class="o">=</span> <span class="k">new</span> <span class="n">DBhelper</span><span class="o">(</span><span class="n">context</span><span class="o">);</span>
        <span class="c1">// Gets the data repository in write mode</span>
        <span class="n">database</span> <span class="o">=</span> <span class="n">dbHelper</span><span class="o">.</span><span class="na">getWritableDatabase</span><span class="o">();</span>
    <span class="o">}</span>

    <span class="cm">/**</span>
<span class="cm">     * close any database object</span>
<span class="cm">     */</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">close</span><span class="o">()</span> <span class="o">{</span>
        <span class="n">dbHelper</span><span class="o">.</span><span class="na">close</span><span class="o">();</span>
    <span class="o">}</span>

    <span class="cm">/**</span>
<span class="cm">     * insert a text report item to the textreport database table</span>
<span class="cm">     *</span>
<span class="cm">     * @param textReport</span>
<span class="cm">     * @return the row ID of the newly inserted row, or -1 if an error occurred</span>
<span class="cm">     */</span>
    <span class="kd">public</span> <span class="kt">long</span> <span class="nf">addReport</span><span class="o">(</span><span class="n">TextReport</span> <span class="n">textReport</span><span class="o">)</span> <span class="o">{</span>
        <span class="c1">// Create a new map of values, where column names are the keys</span>
        <span class="n">ContentValues</span> <span class="n">cv</span> <span class="o">=</span> <span class="k">new</span> <span class="n">ContentValues</span><span class="o">();</span>
        <span class="n">cv</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="n">DBtables</span><span class="o">.</span><span class="na">TextReport</span><span class="o">.</span><span class="na">COLUMN_NUSER_ID</span><span class="o">,</span> <span class="n">textReport</span><span class="o">.</span><span class="na">getUserid</span><span class="o">());</span>
        <span class="n">cv</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="n">DBtables</span><span class="o">.</span><span class="na">TextReport</span><span class="o">.</span><span class="na">COLUMN_REPORT</span><span class="o">,</span> <span class="n">textReport</span><span class="o">.</span><span class="na">getReport</span><span class="o">());</span>
        <span class="n">cv</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="n">DBtables</span><span class="o">.</span><span class="na">TextReport</span><span class="o">.</span><span class="na">COLUMN_ISREPOETED</span><span class="o">,</span> <span class="n">textReport</span><span class="o">.</span><span class="na">isIsreported</span><span class="o">());</span>
        <span class="n">cv</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="n">DBtables</span><span class="o">.</span><span class="na">TextReport</span><span class="o">.</span><span class="na">COLUMN_LONGITUDE</span><span class="o">,</span> <span class="n">textReport</span><span class="o">.</span><span class="na">getLongitude</span><span class="o">());</span>
        <span class="n">cv</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="n">DBtables</span><span class="o">.</span><span class="na">TextReport</span><span class="o">.</span><span class="na">COLUMN_LATITUDE</span><span class="o">,</span> <span class="n">textReport</span><span class="o">.</span><span class="na">getLatitude</span><span class="o">());</span>
        <span class="n">cv</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="n">DBtables</span><span class="o">.</span><span class="na">TextReport</span><span class="o">.</span><span class="na">COLUMN_DATETIME</span><span class="o">,</span> <span class="n">System</span><span class="o">.</span><span class="na">currentTimeMillis</span><span class="o">());</span>

        <span class="c1">// Insert the new row, returning the primary key value of the new row</span>
        <span class="k">return</span> <span class="n">database</span><span class="o">.</span><span class="na">insert</span><span class="o">(</span><span class="n">DBtables</span><span class="o">.</span><span class="na">TextReport</span><span class="o">.</span><span class="na">TABLE_NAME</span><span class="o">,</span> <span class="kc">null</span><span class="o">,</span> <span class="n">cv</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="cm">/**</span>
<span class="cm">     * update given text reports isReported value</span>
<span class="cm">     *</span>
<span class="cm">     * @param textReport</span>
<span class="cm">     * @return the number of rows affected</span>
<span class="cm">     */</span>
    <span class="kd">public</span> <span class="kt">long</span> <span class="nf">updateIsReported</span><span class="o">(</span><span class="n">TextReport</span> <span class="n">textReport</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">ContentValues</span> <span class="n">cv</span> <span class="o">=</span> <span class="k">new</span> <span class="n">ContentValues</span><span class="o">();</span>
        <span class="n">cv</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="n">DBtables</span><span class="o">.</span><span class="na">TextReport</span><span class="o">.</span><span class="na">COLUMN_ISREPOETED</span><span class="o">,</span> <span class="n">textReport</span><span class="o">.</span><span class="na">isIsreported</span><span class="o">());</span>

        <span class="n">String</span> <span class="n">where</span> <span class="o">=</span> <span class="n">DBtables</span><span class="o">.</span><span class="na">TextReport</span><span class="o">.</span><span class="na">COLUMN_NUSER_ID</span> <span class="o">+</span> <span class="s">&quot;=&quot;</span> <span class="o">+</span> <span class="n">textReport</span><span class="o">.</span><span class="na">getUserid</span><span class="o">()</span> <span class="o">+</span> <span class="s">&quot;AND&quot;</span> <span class="o">+</span>
                <span class="n">DBtables</span><span class="o">.</span><span class="na">TextReport</span><span class="o">.</span><span class="na">COLUMN_REPORT</span> <span class="o">+</span> <span class="s">&quot;=&quot;</span> <span class="o">+</span> <span class="n">textReport</span><span class="o">.</span><span class="na">getReport</span><span class="o">()</span> <span class="o">+</span> <span class="s">&quot;AND&quot;</span> <span class="o">+</span>
                <span class="n">DBtables</span><span class="o">.</span><span class="na">TextReport</span><span class="o">.</span><span class="na">COLUMN_DATETIME</span> <span class="o">+</span> <span class="s">&quot;=&quot;</span> <span class="o">+</span>
                <span class="n">textReport</span><span class="o">.</span><span class="na">getDatetime</span><span class="o">().</span><span class="na">getTimeInMillis</span><span class="o">();</span>
        <span class="k">return</span> <span class="n">database</span><span class="o">.</span><span class="na">update</span><span class="o">(</span><span class="n">DBtables</span><span class="o">.</span><span class="na">TextReport</span><span class="o">.</span><span class="na">TABLE_NAME</span><span class="o">,</span> <span class="n">cv</span><span class="o">,</span> <span class="n">where</span><span class="o">,</span> <span class="kc">null</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="cm">/**</span>
<span class="cm">     * @return all text reports as a List</span>
<span class="cm">     */</span>
    <span class="kd">public</span> <span class="n">List</span><span class="o">&lt;</span><span class="n">TextReport</span><span class="o">&gt;</span> <span class="nf">getAllTextReports</span><span class="o">()</span> <span class="o">{</span>
        <span class="n">List</span><span class="o">&lt;</span><span class="n">TextReport</span><span class="o">&gt;</span> <span class="n">textReports</span> <span class="o">=</span> <span class="k">new</span> <span class="n">ArrayList</span><span class="o">&lt;&gt;();</span>

        <span class="n">Cursor</span> <span class="n">cursor</span> <span class="o">=</span>
                <span class="n">database</span><span class="o">.</span><span class="na">query</span><span class="o">(</span><span class="n">DBtables</span><span class="o">.</span><span class="na">TextReport</span><span class="o">.</span><span class="na">TABLE_NAME</span><span class="o">,</span> <span class="n">DBtables</span><span class="o">.</span><span class="na">TextReport</span><span class="o">.</span><span class="na">ALL_COLUMNS</span><span class="o">,</span> <span class="kc">null</span><span class="o">,</span> <span class="kc">null</span><span class="o">,</span> <span class="kc">null</span><span class="o">,</span> <span class="kc">null</span><span class="o">,</span>
                        <span class="n">DBtables</span><span class="o">.</span><span class="na">TextReport</span><span class="o">.</span><span class="na">COLUMN_DATETIME</span> <span class="o">+</span> <span class="s">&quot; DESC&quot;</span><span class="o">);</span>

        <span class="n">cursor</span><span class="o">.</span><span class="na">moveToFirst</span><span class="o">();</span>
        <span class="k">while</span> <span class="o">(!</span><span class="n">cursor</span><span class="o">.</span><span class="na">isAfterLast</span><span class="o">())</span> <span class="o">{</span>
            <span class="n">TextReport</span> <span class="n">textReport</span> <span class="o">=</span> <span class="n">cursorToTextReport</span><span class="o">(</span><span class="n">cursor</span><span class="o">);</span>
            <span class="n">textReports</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">textReport</span><span class="o">);</span>
            <span class="n">cursor</span><span class="o">.</span><span class="na">moveToNext</span><span class="o">();</span>
        <span class="o">}</span>
        <span class="c1">// make sure to close the cursor</span>
        <span class="n">cursor</span><span class="o">.</span><span class="na">close</span><span class="o">();</span>
        <span class="k">return</span> <span class="n">textReports</span><span class="o">;</span>
    <span class="o">}</span>


    <span class="cm">/**</span>
<span class="cm">     * @return total row count of the table</span>
<span class="cm">     */</span>
    <span class="kd">public</span> <span class="kt">int</span> <span class="nf">getRowCount</span><span class="o">()</span> <span class="o">{</span>
        <span class="n">String</span> <span class="n">countQuery</span> <span class="o">=</span> <span class="s">&quot;SELECT  * FROM &quot;</span> <span class="o">+</span> <span class="n">DBtables</span><span class="o">.</span><span class="na">TextReport</span><span class="o">.</span><span class="na">TABLE_NAME</span><span class="o">;</span>
        <span class="n">Cursor</span> <span class="n">cursor</span> <span class="o">=</span> <span class="n">database</span><span class="o">.</span><span class="na">rawQuery</span><span class="o">(</span><span class="n">countQuery</span><span class="o">,</span> <span class="kc">null</span><span class="o">);</span>
        <span class="kt">int</span> <span class="n">count</span> <span class="o">=</span> <span class="n">cursor</span><span class="o">.</span><span class="na">getCount</span><span class="o">();</span>
        <span class="n">cursor</span><span class="o">.</span><span class="na">close</span><span class="o">();</span>
        <span class="k">return</span> <span class="n">count</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="cm">/**</span>
<span class="cm">     * *</span>
<span class="cm">     *</span>
<span class="cm">     * @param cursor the cursor row</span>
<span class="cm">     * @return a TextReport</span>
<span class="cm">     */</span>
    <span class="kd">private</span> <span class="n">TextReport</span> <span class="nf">cursorToTextReport</span><span class="o">(</span><span class="n">Cursor</span> <span class="n">cursor</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">TextReport</span> <span class="n">tr</span> <span class="o">=</span> <span class="k">new</span> <span class="n">TextReport</span><span class="o">();</span>

        <span class="n">tr</span><span class="o">.</span><span class="na">setUserid</span><span class="o">(</span><span class="n">cursor</span><span class="o">.</span><span class="na">getString</span><span class="o">(</span><span class="n">cursor</span><span class="o">.</span><span class="na">getColumnIndex</span><span class="o">(</span><span class="n">DBtables</span><span class="o">.</span><span class="na">TextReport</span><span class="o">.</span><span class="na">COLUMN_NUSER_ID</span><span class="o">)));</span>
        <span class="n">tr</span><span class="o">.</span><span class="na">setReport</span><span class="o">(</span><span class="n">cursor</span><span class="o">.</span><span class="na">getString</span><span class="o">(</span><span class="n">cursor</span><span class="o">.</span><span class="na">getColumnIndex</span><span class="o">(</span><span class="n">DBtables</span><span class="o">.</span><span class="na">TextReport</span><span class="o">.</span><span class="na">COLUMN_REPORT</span><span class="o">)));</span>
        <span class="n">tr</span><span class="o">.</span><span class="na">setDatetime</span><span class="o">(</span><span class="n">cursor</span><span class="o">.</span><span class="na">getLong</span><span class="o">(</span><span class="n">cursor</span><span class="o">.</span><span class="na">getColumnIndex</span><span class="o">(</span><span class="n">DBtables</span><span class="o">.</span><span class="na">TextReport</span><span class="o">.</span><span class="na">COLUMN_DATETIME</span><span class="o">)));</span>
        <span class="n">tr</span><span class="o">.</span><span class="na">setLongitude</span><span class="o">(</span><span class="n">cursor</span><span class="o">.</span><span class="na">getDouble</span><span class="o">(</span><span class="n">cursor</span><span class="o">.</span><span class="na">getColumnIndex</span><span class="o">(</span><span class="n">DBtables</span><span class="o">.</span><span class="na">TextReport</span><span class="o">.</span><span class="na">COLUMN_LONGITUDE</span><span class="o">)));</span>
        <span class="n">tr</span><span class="o">.</span><span class="na">setLatitude</span><span class="o">(</span><span class="n">cursor</span><span class="o">.</span><span class="na">getDouble</span><span class="o">(</span><span class="n">cursor</span><span class="o">.</span><span class="na">getColumnIndex</span><span class="o">(</span><span class="n">DBtables</span><span class="o">.</span><span class="na">TextReport</span><span class="o">.</span><span class="na">COLUMN_LATITUDE</span><span class="o">)));</span>
        <span class="c1">// here we convert int to boolean</span>
        <span class="n">tr</span><span class="o">.</span><span class="na">setIsreported</span><span class="o">(</span><span class="n">cursor</span><span class="o">.</span><span class="na">getInt</span><span class="o">(</span><span class="n">cursor</span><span class="o">.</span><span class="na">getColumnIndex</span><span class="o">(</span><span class="n">DBtables</span><span class="o">.</span><span class="na">TextReport</span><span class="o">.</span><span class="na">COLUMN_ISREPOETED</span><span class="o">))</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="o">);</span>
        <span class="k">return</span> <span class="n">tr</span><span class="o">;</span>
    <span class="o">}</span>
<span class="o">}</span></code></pre></figure>

<ul>
  <li>
    <p>SQLite have very few data types, like it does not have boolean type, we use <code>cursor.getInt(cursor.getColumnIndex(DBtables.TextReport.COLUMN_ISREPOETED)) &gt; 0</code> to set 
value back to boolean.</p>
  </li>
  <li>We need a Calendar data type but SQLite do not support any Date,</li>
  <li>one option is use data format to convert our Datetime to String and save it to SQLite, 
when we retrieve it we convert the string to Date Time or Calendar data type again.</li>
  <li>
    <p>The other option is use a number instead of string, we use <code>System.currentTimeMillis()</code> to return a long data type, and save it on database, when we retrieve the date we convert it to Date Time or Calendar data type.</p>
  </li>
  <li>Both options are easy to implement, and both works well. But here we choose to save it as a number, 
as it is easy to compare when it is a number, numbers are easy to handle, and in our example it needs few less steps than use a string.</li>
</ul>

<h2 id="create-a-textreport-class">Create a TextReport class</h2>
<p>This class is the model and it contains all the data we need to save, retrieve from database and show them in our ListView.</p>

<figure class="highlight"><pre><code class="language-java" data-lang="java"><span></span><span class="kd">public</span> <span class="kd">class</span> <span class="nc">TextReport</span> <span class="o">{</span>
    <span class="kd">private</span> <span class="n">String</span> <span class="n">userid</span><span class="o">,</span> <span class="n">report</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kt">boolean</span> <span class="n">isreported</span><span class="o">;</span>
    <span class="kd">private</span> <span class="n">Calendar</span> <span class="n">datetime</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kt">double</span> <span class="n">latitude</span><span class="o">,</span> <span class="n">longitude</span><span class="o">;</span>

    <span class="cm">/**</span>
<span class="cm">     * current data time will be generated when insert to database; isreported by default is set to false</span>
<span class="cm">     *</span>
<span class="cm">     * @param userid</span>
<span class="cm">     * @param report</span>
<span class="cm">     * @param latitude</span>
<span class="cm">     * @param longitude</span>
<span class="cm">     */</span>
    <span class="kd">public</span> <span class="nf">TextReport</span><span class="o">(</span><span class="n">String</span> <span class="n">userid</span><span class="o">,</span> <span class="n">String</span> <span class="n">report</span><span class="o">,</span> <span class="kt">double</span> <span class="n">latitude</span><span class="o">,</span> <span class="kt">double</span> <span class="n">longitude</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">this</span><span class="o">.</span><span class="na">longitude</span> <span class="o">=</span> <span class="n">longitude</span><span class="o">;</span>
        <span class="k">this</span><span class="o">.</span><span class="na">latitude</span> <span class="o">=</span> <span class="n">latitude</span><span class="o">;</span>
        <span class="k">this</span><span class="o">.</span><span class="na">userid</span> <span class="o">=</span> <span class="n">userid</span><span class="o">;</span>
        <span class="k">this</span><span class="o">.</span><span class="na">report</span> <span class="o">=</span> <span class="n">report</span><span class="o">;</span>
        <span class="k">this</span><span class="o">.</span><span class="na">isreported</span> <span class="o">=</span> <span class="kc">false</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="nf">TextReport</span><span class="o">()</span> <span class="o">{</span>
    <span class="o">}</span>

    <span class="cm">/**</span>
<span class="cm">     * Sets new report.</span>
<span class="cm">     *</span>
<span class="cm">     * @param report New value of report.</span>
<span class="cm">     */</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">setReport</span><span class="o">(</span><span class="n">String</span> <span class="n">report</span><span class="o">)</span> <span class="o">{</span> <span class="k">this</span><span class="o">.</span><span class="na">report</span> <span class="o">=</span> <span class="n">report</span><span class="o">;</span> <span class="o">}</span>

    <span class="cm">/**</span>
<span class="cm">     * Sets new datetime.</span>
<span class="cm">     *</span>
<span class="cm">     * @param datetime New value of datetime.</span>
<span class="cm">     */</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">setDatetime</span><span class="o">(</span><span class="n">Calendar</span> <span class="n">datetime</span><span class="o">)</span> <span class="o">{</span> <span class="k">this</span><span class="o">.</span><span class="na">datetime</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">;</span> <span class="o">}</span>


    <span class="cm">/**</span>
<span class="cm">     * Sets new datetime.</span>
<span class="cm">     *</span>
<span class="cm">     * @param datetime New value of datetime.</span>
<span class="cm">     */</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">setDatetime</span><span class="o">(</span><span class="kt">long</span> <span class="n">datetime</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">Calendar</span> <span class="n">cal</span> <span class="o">=</span> <span class="n">Calendar</span><span class="o">.</span><span class="na">getInstance</span><span class="o">();</span>
        <span class="n">cal</span><span class="o">.</span><span class="na">setTimeInMillis</span><span class="o">(</span><span class="n">datetime</span><span class="o">);</span>

        <span class="k">this</span><span class="o">.</span><span class="na">datetime</span> <span class="o">=</span> <span class="n">cal</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="cm">/**</span>
<span class="cm">     * Gets userid.</span>
<span class="cm">     *</span>
<span class="cm">     * @return Value of userid.</span>
<span class="cm">     */</span>
    <span class="kd">public</span> <span class="n">String</span> <span class="nf">getUserid</span><span class="o">()</span> <span class="o">{</span> <span class="k">return</span> <span class="n">userid</span><span class="o">;</span> <span class="o">}</span>

    <span class="cm">/**</span>
<span class="cm">     * Gets latitude.</span>
<span class="cm">     *</span>
<span class="cm">     * @return Value of latitude.</span>
<span class="cm">     */</span>
    <span class="kd">public</span> <span class="kt">double</span> <span class="nf">getLatitude</span><span class="o">()</span> <span class="o">{</span> <span class="k">return</span> <span class="n">latitude</span><span class="o">;</span> <span class="o">}</span>

    <span class="cm">/**</span>
<span class="cm">     * Gets isreported.</span>
<span class="cm">     *</span>
<span class="cm">     * @return Value of isreported.</span>
<span class="cm">     */</span>
    <span class="kd">public</span> <span class="kt">boolean</span> <span class="nf">isIsreported</span><span class="o">()</span> <span class="o">{</span> <span class="k">return</span> <span class="n">isreported</span><span class="o">;</span> <span class="o">}</span>

    <span class="cm">/**</span>
<span class="cm">     * Sets new userid.</span>
<span class="cm">     *</span>
<span class="cm">     * @param userid New value of userid.</span>
<span class="cm">     */</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">setUserid</span><span class="o">(</span><span class="n">String</span> <span class="n">userid</span><span class="o">)</span> <span class="o">{</span> <span class="k">this</span><span class="o">.</span><span class="na">userid</span> <span class="o">=</span> <span class="n">userid</span><span class="o">;</span> <span class="o">}</span>

    <span class="cm">/**</span>
<span class="cm">     * Gets report.</span>
<span class="cm">     *</span>
<span class="cm">     * @return Value of report.</span>
<span class="cm">     */</span>
    <span class="kd">public</span> <span class="n">String</span> <span class="nf">getReport</span><span class="o">()</span> <span class="o">{</span> <span class="k">return</span> <span class="n">report</span><span class="o">;</span> <span class="o">}</span>

    <span class="cm">/**</span>
<span class="cm">     * Gets datetime.</span>
<span class="cm">     *</span>
<span class="cm">     * @return Value of datetime.</span>
<span class="cm">     */</span>
    <span class="kd">public</span> <span class="n">Calendar</span> <span class="nf">getDatetime</span><span class="o">()</span> <span class="o">{</span> <span class="k">return</span> <span class="n">datetime</span><span class="o">;</span> <span class="o">}</span>

    <span class="cm">/**</span>
<span class="cm">     * Sets new longitude.</span>
<span class="cm">     *</span>
<span class="cm">     * @param longitude New value of longitude.</span>
<span class="cm">     */</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">setLongitude</span><span class="o">(</span><span class="kt">double</span> <span class="n">longitude</span><span class="o">)</span> <span class="o">{</span> <span class="k">this</span><span class="o">.</span><span class="na">longitude</span> <span class="o">=</span> <span class="n">longitude</span><span class="o">;</span> <span class="o">}</span>

    <span class="cm">/**</span>
<span class="cm">     * Gets longitude.</span>
<span class="cm">     *</span>
<span class="cm">     * @return Value of longitude.</span>
<span class="cm">     */</span>
    <span class="kd">public</span> <span class="kt">double</span> <span class="nf">getLongitude</span><span class="o">()</span> <span class="o">{</span> <span class="k">return</span> <span class="n">longitude</span><span class="o">;</span> <span class="o">}</span>

    <span class="cm">/**</span>
<span class="cm">     * Sets new latitude.</span>
<span class="cm">     *</span>
<span class="cm">     * @param latitude New value of latitude.</span>
<span class="cm">     */</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">setLatitude</span><span class="o">(</span><span class="kt">double</span> <span class="n">latitude</span><span class="o">)</span> <span class="o">{</span> <span class="k">this</span><span class="o">.</span><span class="na">latitude</span> <span class="o">=</span> <span class="n">latitude</span><span class="o">;</span> <span class="o">}</span>

    <span class="cm">/**</span>
<span class="cm">     * Sets new isreported.</span>
<span class="cm">     *</span>
<span class="cm">     * @param isreported New value of isreported.</span>
<span class="cm">     */</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">setIsreported</span><span class="o">(</span><span class="kt">boolean</span> <span class="n">isreported</span><span class="o">)</span> <span class="o">{</span> <span class="k">this</span><span class="o">.</span><span class="na">isreported</span> <span class="o">=</span> <span class="n">isreported</span><span class="o">;</span> <span class="o">}</span>

    <span class="nd">@Override</span> <span class="kd">public</span> <span class="n">String</span> <span class="nf">toString</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">return</span> <span class="s">&quot;userid=&#39;&quot;</span> <span class="o">+</span> <span class="n">userid</span> <span class="o">+</span>
                <span class="s">&quot;,      isreported=&quot;</span> <span class="o">+</span> <span class="n">isreported</span> <span class="o">+</span>
                <span class="s">&quot;\nreport=&#39;&quot;</span> <span class="o">+</span> <span class="n">report</span> <span class="o">+</span>
                <span class="s">&quot;\ndatetime=&quot;</span> <span class="o">+</span> <span class="n">df</span><span class="o">.</span><span class="na">format</span><span class="o">(</span><span class="n">datetime</span><span class="o">.</span><span class="na">getTime</span><span class="o">())</span> <span class="o">+</span>
                <span class="s">&quot;\nlatitude=&quot;</span> <span class="o">+</span> <span class="n">latitude</span> <span class="o">+</span>
                <span class="s">&quot;, longitude=&quot;</span> <span class="o">+</span> <span class="n">longitude</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="n">SimpleDateFormat</span> <span class="n">df</span> <span class="o">=</span> <span class="k">new</span> <span class="n">SimpleDateFormat</span><span class="o">(</span><span class="s">&quot;EEEE, MMMM d, yyyy &#39;at&#39; h:mm a&quot;</span><span class="o">);</span>
<span class="o">}</span></code></pre></figure>

<h2 id="implement-listview-to-show-data-entries">Implement ListView to show data entries</h2>
<p>This class implements a ListView, and show all data entries from database in ListView. A Toast to show clicked item, and a popup actionbar menu to choose write message window is also implemented.</p>

<figure class="highlight"><pre><code class="language-java" data-lang="java"><span></span><span class="kd">public</span> <span class="kd">class</span> <span class="nc">MainActivity</span> <span class="kd">extends</span> <span class="n">ActionBarActivity</span> <span class="o">{</span>
    <span class="kd">private</span> <span class="n">DAOtextReport</span> <span class="n">daOtextReport</span><span class="o">;</span>

    <span class="nd">@Override</span>
    <span class="kd">protected</span> <span class="kt">void</span> <span class="nf">onCreate</span><span class="o">(</span><span class="n">Bundle</span> <span class="n">savedInstanceState</span><span class="o">)</span> <span class="o">{</span>
        <span class="kd">super</span><span class="o">.</span><span class="na">onCreate</span><span class="o">(</span><span class="n">savedInstanceState</span><span class="o">);</span>
        <span class="n">setContentView</span><span class="o">(</span><span class="n">R</span><span class="o">.</span><span class="na">layout</span><span class="o">.</span><span class="na">activity_main</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="nd">@Override</span> <span class="kd">protected</span> <span class="kt">void</span> <span class="nf">onResume</span><span class="o">()</span> <span class="o">{</span>
        <span class="kd">super</span><span class="o">.</span><span class="na">onResume</span><span class="o">();</span>

        <span class="n">ArrayAdapter</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">adapter</span> <span class="o">=</span> <span class="k">new</span> <span class="n">ArrayAdapter</span><span class="o">&lt;&gt;(</span><span class="k">this</span><span class="o">,</span> <span class="n">android</span><span class="o">.</span><span class="na">R</span><span class="o">.</span><span class="na">layout</span><span class="o">.</span><span class="na">simple_list_item_1</span><span class="o">,</span> <span class="n">getList</span><span class="o">());</span>
        <span class="n">ListView</span> <span class="n">listView</span> <span class="o">=</span> <span class="o">(</span><span class="n">ListView</span><span class="o">)</span> <span class="n">findViewById</span><span class="o">(</span><span class="n">R</span><span class="o">.</span><span class="na">id</span><span class="o">.</span><span class="na">my_listview</span><span class="o">);</span>
        <span class="n">listView</span><span class="o">.</span><span class="na">setAdapter</span><span class="o">(</span><span class="n">adapter</span><span class="o">);</span>
        <span class="n">addItemClickListener</span><span class="o">(</span><span class="n">listView</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="cm">/**</span>
<span class="cm">     * get all data entries from database as a string list</span>
<span class="cm">     *</span>
<span class="cm">     * @return String [] list</span>
<span class="cm">     */</span>
    <span class="kd">public</span> <span class="n">String</span><span class="o">[]</span> <span class="nf">getList</span><span class="o">()</span> <span class="o">{</span>
        <span class="n">daOtextReport</span> <span class="o">=</span> <span class="k">new</span> <span class="n">DAOtextReport</span><span class="o">(</span><span class="n">getApplicationContext</span><span class="o">());</span>
        <span class="n">List</span><span class="o">&lt;</span><span class="n">TextReport</span><span class="o">&gt;</span> <span class="n">alist</span> <span class="o">=</span> <span class="n">daOtextReport</span><span class="o">.</span><span class="na">getAllTextReports</span><span class="o">();</span>
        <span class="n">String</span><span class="o">[]</span> <span class="n">list</span> <span class="o">=</span> <span class="k">new</span> <span class="n">String</span><span class="o">[</span><span class="n">alist</span><span class="o">.</span><span class="na">size</span><span class="o">()];</span>
        <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">alist</span><span class="o">.</span><span class="na">size</span><span class="o">();</span> <span class="n">i</span><span class="o">++)</span> <span class="o">{</span>
            <span class="n">list</span><span class="o">[</span><span class="n">i</span><span class="o">]</span> <span class="o">=</span> <span class="n">alist</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="n">i</span><span class="o">).</span><span class="na">toString</span><span class="o">();</span>
        <span class="o">}</span>
        <span class="n">daOtextReport</span><span class="o">.</span><span class="na">close</span><span class="o">();</span>
        <span class="k">return</span> <span class="n">list</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="cm">/**</span>
<span class="cm">     * Toast the clicked item</span>
<span class="cm">     *</span>
<span class="cm">     * @param listView</span>
<span class="cm">     */</span>
    <span class="kd">private</span> <span class="kt">void</span> <span class="nf">addItemClickListener</span><span class="o">(</span><span class="kd">final</span> <span class="n">ListView</span> <span class="n">listView</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">listView</span><span class="o">.</span><span class="na">setOnItemClickListener</span><span class="o">(</span><span class="k">new</span> <span class="n">AdapterView</span><span class="o">.</span><span class="na">OnItemClickListener</span><span class="o">()</span> <span class="o">{</span>
            <span class="nd">@Override</span> <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onItemClick</span><span class="o">(</span><span class="n">AdapterView</span><span class="o">&lt;?&gt;</span> <span class="n">parent</span><span class="o">,</span> <span class="n">View</span> <span class="n">view</span><span class="o">,</span> <span class="kt">int</span> <span class="n">position</span><span class="o">,</span> <span class="kt">long</span> <span class="n">id</span><span class="o">)</span> <span class="o">{</span>
                <span class="n">String</span> <span class="n">itemValue</span> <span class="o">=</span> <span class="o">(</span><span class="n">String</span><span class="o">)</span> <span class="n">listView</span><span class="o">.</span><span class="na">getItemAtPosition</span><span class="o">(</span><span class="n">position</span><span class="o">);</span>
                <span class="n">Toast</span><span class="o">.</span><span class="na">makeText</span><span class="o">(</span><span class="n">getApplicationContext</span><span class="o">(),</span> <span class="s">&quot;Position: &quot;</span> <span class="o">+</span> <span class="n">position</span> <span class="o">+</span> <span class="s">&quot; item: &quot;</span> <span class="o">+</span> <span class="n">itemValue</span><span class="o">,</span>
                        <span class="n">Toast</span><span class="o">.</span><span class="na">LENGTH_SHORT</span><span class="o">).</span><span class="na">show</span><span class="o">();</span>
            <span class="o">}</span>
        <span class="o">});</span>
    <span class="o">}</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">boolean</span> <span class="nf">onCreateOptionsMenu</span><span class="o">(</span><span class="n">Menu</span> <span class="n">menu</span><span class="o">)</span> <span class="o">{</span>
        <span class="c1">// Inflate the menu; this adds items to the action bar if it is present.</span>
        <span class="n">getMenuInflater</span><span class="o">().</span><span class="na">inflate</span><span class="o">(</span><span class="n">R</span><span class="o">.</span><span class="na">menu</span><span class="o">.</span><span class="na">menu_main</span><span class="o">,</span> <span class="n">menu</span><span class="o">);</span>
        <span class="k">return</span> <span class="kc">true</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">boolean</span> <span class="nf">onOptionsItemSelected</span><span class="o">(</span><span class="n">MenuItem</span> <span class="n">item</span><span class="o">)</span> <span class="o">{</span>
        <span class="c1">// Handle action bar item clicks here. The action bar will</span>
        <span class="c1">// automatically handle clicks on the Home/Up button, so long</span>
        <span class="c1">// as you specify a parent activity in AndroidManifest.xml.</span>
        <span class="k">switch</span> <span class="o">(</span><span class="n">item</span><span class="o">.</span><span class="na">getItemId</span><span class="o">())</span> <span class="o">{</span>
            <span class="k">case</span> <span class="n">R</span><span class="o">.</span><span class="na">id</span><span class="o">.</span><span class="na">menu_write</span><span class="o">:</span>
                <span class="n">startActivity</span><span class="o">(</span><span class="k">new</span> <span class="n">Intent</span><span class="o">(</span><span class="k">this</span><span class="o">,</span> <span class="n">ReportActivity</span><span class="o">.</span><span class="na">class</span><span class="o">));</span>
                <span class="k">return</span> <span class="kc">true</span><span class="o">;</span>
            <span class="k">default</span><span class="o">:</span>
                <span class="k">return</span> <span class="kd">super</span><span class="o">.</span><span class="na">onOptionsItemSelected</span><span class="o">(</span><span class="n">item</span><span class="o">);</span>
        <span class="o">}</span>
    <span class="o">}</span>
<span class="o">}</span></code></pre></figure>

<p>And here is layout for main activity:</p>

<figure class="highlight"><pre><code class="language-xml" data-lang="xml"><span></span><span class="nt">&lt;RelativeLayout</span> <span class="na">xmlns:android=</span><span class="s">&quot;http://schemas.android.com/apk/res/android&quot;</span>
                <span class="na">xmlns:tools=</span><span class="s">&quot;http://schemas.android.com/tools&quot;</span>
                <span class="na">android:layout_width=</span><span class="s">&quot;match_parent&quot;</span>
                <span class="na">android:layout_height=</span><span class="s">&quot;match_parent&quot;</span>
                <span class="na">android:paddingLeft=</span><span class="s">&quot;@dimen/activity_horizontal_margin&quot;</span>
                <span class="na">android:paddingRight=</span><span class="s">&quot;@dimen/activity_horizontal_margin&quot;</span>
                <span class="na">android:paddingTop=</span><span class="s">&quot;@dimen/activity_vertical_margin&quot;</span>
                <span class="na">android:paddingBottom=</span><span class="s">&quot;@dimen/activity_vertical_margin&quot;</span>
                <span class="na">tools:context=</span><span class="s">&quot;.MainActivity&quot;</span><span class="nt">&gt;</span>

    <span class="nt">&lt;ListView</span>
        <span class="na">android:layout_width=</span><span class="s">&quot;match_parent&quot;</span>
        <span class="na">android:layout_height=</span><span class="s">&quot;wrap_content&quot;</span>
        <span class="na">android:id=</span><span class="s">&quot;@+id/my_listview&quot;</span><span class="nt">&gt;&lt;/ListView&gt;</span>

<span class="nt">&lt;/RelativeLayout&gt;</span></code></pre></figure>

<h2 id="implement-write-text-window">Implement write text window</h2>
<p>A simple EditText is used to write text, and a send button to save text to database.</p>

<figure class="highlight"><pre><code class="language-java" data-lang="java"><span></span><span class="kd">public</span> <span class="kd">class</span> <span class="nc">ReportActivity</span> <span class="kd">extends</span> <span class="n">ActionBarActivity</span> <span class="o">{</span>
    <span class="kd">private</span> <span class="n">EditText</span> <span class="n">textReport</span><span class="o">;</span>
    <span class="kd">private</span> <span class="n">DAOtextReport</span> <span class="n">daOtextReport</span><span class="o">;</span>

    <span class="nd">@Override</span>
    <span class="kd">protected</span> <span class="kt">void</span> <span class="nf">onCreate</span><span class="o">(</span><span class="n">Bundle</span> <span class="n">savedInstanceState</span><span class="o">)</span> <span class="o">{</span>
        <span class="kd">super</span><span class="o">.</span><span class="na">onCreate</span><span class="o">(</span><span class="n">savedInstanceState</span><span class="o">);</span>
        <span class="n">setContentView</span><span class="o">(</span><span class="n">R</span><span class="o">.</span><span class="na">layout</span><span class="o">.</span><span class="na">activity_report</span><span class="o">);</span>

        <span class="n">textReport</span> <span class="o">=</span> <span class="o">(</span><span class="n">EditText</span><span class="o">)</span> <span class="n">findViewById</span><span class="o">(</span><span class="n">R</span><span class="o">.</span><span class="na">id</span><span class="o">.</span><span class="na">report_edit_text</span><span class="o">);</span>
        <span class="n">daOtextReport</span> <span class="o">=</span> <span class="k">new</span> <span class="n">DAOtextReport</span><span class="o">(</span><span class="k">this</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="cm">/**</span>
<span class="cm">     * user click send report button</span>
<span class="cm">     *</span>
<span class="cm">     * @param view</span>
<span class="cm">     */</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">textReportOnClicked</span><span class="o">(</span><span class="n">View</span> <span class="n">view</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">String</span> <span class="n">report</span> <span class="o">=</span> <span class="n">textReport</span><span class="o">.</span><span class="na">getText</span><span class="o">().</span><span class="na">toString</span><span class="o">();</span>
        <span class="kt">long</span> <span class="n">result</span> <span class="o">=</span> <span class="n">daOtextReport</span><span class="o">.</span><span class="na">addReport</span><span class="o">(</span><span class="k">new</span> <span class="n">TextReport</span><span class="o">(</span><span class="s">&quot;junjunguo.com&quot;</span><span class="o">,</span> <span class="n">report</span><span class="o">,</span> <span class="mf">63.4187362</span><span class="o">,</span> <span class="mf">10.4387621</span><span class="o">));</span>

        <span class="k">if</span> <span class="o">(</span><span class="n">result</span> <span class="o">&gt;=</span> <span class="mi">0</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">Toast</span><span class="o">.</span><span class="na">makeText</span><span class="o">(</span><span class="n">getApplicationContext</span><span class="o">(),</span> <span class="s">&quot;succsefully add report to row &quot;</span> <span class="o">+</span> <span class="n">result</span><span class="o">,</span> <span class="n">Toast</span><span class="o">.</span><span class="na">LENGTH_SHORT</span><span class="o">)</span>
                    <span class="o">.</span><span class="na">show</span><span class="o">();</span>
            <span class="n">textReport</span><span class="o">.</span><span class="na">getText</span><span class="o">().</span><span class="na">clear</span><span class="o">();</span>
        <span class="o">}</span> <span class="k">else</span> <span class="o">{</span>
            <span class="n">Toast</span><span class="o">.</span><span class="na">makeText</span><span class="o">(</span><span class="n">getApplicationContext</span><span class="o">(),</span> <span class="s">&quot;not succeed ! please try again !&quot;</span><span class="o">,</span> <span class="n">Toast</span><span class="o">.</span><span class="na">LENGTH_SHORT</span><span class="o">).</span><span class="na">show</span><span class="o">();</span>
        <span class="o">}</span>
    <span class="o">}</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">boolean</span> <span class="nf">onCreateOptionsMenu</span><span class="o">(</span><span class="n">Menu</span> <span class="n">menu</span><span class="o">)</span> <span class="o">{</span>
        <span class="c1">// Inflate the menu; this adds items to the action bar if it is present.</span>
        <span class="n">getMenuInflater</span><span class="o">().</span><span class="na">inflate</span><span class="o">(</span><span class="n">R</span><span class="o">.</span><span class="na">menu</span><span class="o">.</span><span class="na">menu_report</span><span class="o">,</span> <span class="n">menu</span><span class="o">);</span>
        <span class="k">return</span> <span class="kc">true</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">boolean</span> <span class="nf">onOptionsItemSelected</span><span class="o">(</span><span class="n">MenuItem</span> <span class="n">item</span><span class="o">)</span> <span class="o">{</span>
        <span class="c1">// Handle action bar item clicks here. The action bar will</span>
        <span class="c1">// automatically handle clicks on the Home/Up button, so long</span>
        <span class="c1">// as you specify a parent activity in AndroidManifest.xml.</span>
        <span class="k">switch</span> <span class="o">(</span><span class="n">item</span><span class="o">.</span><span class="na">getItemId</span><span class="o">())</span> <span class="o">{</span>
            <span class="k">case</span> <span class="n">R</span><span class="o">.</span><span class="na">id</span><span class="o">.</span><span class="na">menu_view</span><span class="o">:</span>
                <span class="n">daOtextReport</span><span class="o">.</span><span class="na">close</span><span class="o">();</span>
                <span class="n">startActivity</span><span class="o">(</span><span class="k">new</span> <span class="n">Intent</span><span class="o">(</span><span class="k">this</span><span class="o">,</span> <span class="n">MainActivity</span><span class="o">.</span><span class="na">class</span><span class="o">));</span>
                <span class="k">return</span> <span class="kc">true</span><span class="o">;</span>
            <span class="k">default</span><span class="o">:</span>
                <span class="k">return</span> <span class="kd">super</span><span class="o">.</span><span class="na">onOptionsItemSelected</span><span class="o">(</span><span class="n">item</span><span class="o">);</span>
        <span class="o">}</span>
    <span class="o">}</span>
<span class="o">}</span></code></pre></figure>

<p>And layout for <code>ReportActivity</code> insert following:</p>

<figure class="highlight"><pre><code class="language-xml" data-lang="xml"><span></span><span class="nt">&lt;EditText</span>
    <span class="na">android:layout_width=</span><span class="s">&quot;match_parent&quot;</span>
    <span class="na">android:layout_height=</span><span class="s">&quot;wrap_content&quot;</span>
    <span class="na">android:id=</span><span class="s">&quot;@+id/report_edit_text&quot;</span>
    <span class="na">android:hint=</span><span class="s">&quot;@string/write_your_text&quot;</span>
    <span class="na">android:layout_marginRight=</span><span class="s">&quot;5dp&quot;</span>
    <span class="na">android:layout_marginLeft=</span><span class="s">&quot;5dp&quot;</span>
    <span class="na">android:layout_marginTop=</span><span class="s">&quot;8dp&quot;</span>
    <span class="na">android:layout_marginBottom=</span><span class="s">&quot;15dp&quot;</span>
    <span class="na">android:inputType=</span><span class="s">&quot;textMultiLine&quot;</span>
    <span class="na">android:layout_centerHorizontal=</span><span class="s">&quot;true&quot;</span><span class="nt">/&gt;</span>

<span class="nt">&lt;Button</span>
    <span class="na">android:layout_width=</span><span class="s">&quot;wrap_content&quot;</span>
    <span class="na">android:layout_height=</span><span class="s">&quot;wrap_content&quot;</span>
    <span class="na">android:onClick=</span><span class="s">&quot;textReportOnClicked&quot;</span>
    <span class="na">android:width=</span><span class="s">&quot;200dp&quot;</span>
    <span class="na">android:layout_centerHorizontal=</span><span class="s">&quot;true&quot;</span>
    <span class="na">android:text=</span><span class="s">&quot;@string/send&quot;</span>
    <span class="na">android:layout_below=</span><span class="s">&quot;@id/report_edit_text&quot;</span><span class="nt">/&gt;</span></code></pre></figure>

<h2 id="actionbar-menu">ActionBar menu</h2>

<p>Add a menu item to the ListView activity menu so we can switch to write window</p>

<figure class="highlight"><pre><code class="language-xml" data-lang="xml"><span></span><span class="nt">&lt;item</span>
    <span class="na">android:id=</span><span class="s">&quot;@+id/menu_write&quot;</span>
    <span class="na">android:title=</span><span class="s">&quot;@string/write_report&quot;</span>
    <span class="na">android:orderInCategory=</span><span class="s">&quot;100&quot;</span>
    <span class="na">app:showAsAction=</span><span class="s">&quot;never&quot;</span><span class="nt">/&gt;</span></code></pre></figure>

<p>and add menu item to write activity menu so we can switch back</p>

<figure class="highlight"><pre><code class="language-xml" data-lang="xml"><span></span><span class="nt">&lt;item</span>
    <span class="na">android:id=</span><span class="s">&quot;@+id/menu_view&quot;</span>
    <span class="na">android:title=</span><span class="s">&quot;@string/view_report&quot;</span>
    <span class="na">android:orderInCategory=</span><span class="s">&quot;100&quot;</span>
    <span class="na">app:showAsAction=</span><span class="s">&quot;never&quot;</span><span class="nt">/&gt;</span></code></pre></figure>

<p>And we have our project implemented.</p>

<p>Source code <a href="https://github.com/junjunguo/android/tree/master/SQLiteDB">on Github</a></p>

        
          <div id="disqus_thread"></div><!-- /#disqus_thread -->
          
<script type="text/javascript">
    /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
    var disqus_shortname = 'guojunjunsblog'; // required: replace example with your forum shortname

    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();

    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function () {
        var s = document.createElement('script'); s.async = true;
        s.type = 'text/javascript';
        s.src = '//' + disqus_shortname + '.disqus.com/count.js';
        (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
    }());
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>


        
      </div><!-- /.entry-content -->
    </div><!-- /.entry-wrapper -->
    <nav class="pagination" role="navigation">
      
        <a href="https://www.junjunguo.com/blog/android-list-view-b/" class="btn" title="Android Implement a ListView">Previous</a>
      
      
        <a href="https://www.junjunguo.com/blog/android-sqlite-database-b/" class="btn" title="Android Saving Data in SQLite Database">Next</a>
      
    </nav><!-- /.pagination -->
  </article>
</div><!-- /#main -->

<div class="footer-wrapper">
  <footer role="contentinfo" class="entry-wrapper">
    

<span>&copy; 2017 <a href="https://junjunguo.github.io" rel="nofollow">  GuoJunjun</a></span>
<div class="social-icons">
    
    
    <a href="http://plus.google.com/+GuoJunjun"
                                      title="GuoJunjun on Google+" target="_blank"><i
        class="fa fa-google-plus-square fa-2x"></i></a>
    <a href="http://linkedin.com/in/guojunjun"
                                   title="GuoJunjun on LinkedIn" target="_blank"><i
        class="fa fa-linkedin-square fa-2x"></i></a>
    
    
    <a href="http://www.flickr.com/photos/guojunjun"
                                 title="GuoJunjun on Flickr" target="_blank"><i
        class="fa fa-flickr fa-2x"></i></a>
    <a href="http://github.com/junjunguo" title="GuoJunjun on Github"
                                 target="_blank"><i class="fa fa-github-square fa-2x"></i></a>
    
    <a href="https://www.junjunguo.com/feed.xml" title="Atom/RSS feed"><i class="fa fa-rss-square fa-2x"></i></a>
</div><!-- /.social-icons -->
  </footer>
</div><!-- /.footer-wrapper -->

<script type="text/javascript">
  var BASE_URL = 'https://www.junjunguo.com';
</script>

<script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
<script>window.jQuery || document.write('<script src="./assets/js/scripts.min.jsjs/vendor/jquery-1.9.1.min.js"><\/script>')</script>
<script src="./assets/js/scripts.min.jsjs/scripts.min.js"></script>


<!-- Asynchronous Google Analytics snippet -->
<script>
  var _gaq = _gaq || [];
  var pluginUrl = 
 '//www.google-analytics.com/plugins/ga/inpage_linkid.js';
  _gaq.push(['_require', 'inpage_linkid', pluginUrl]);
  _gaq.push(['_setAccount', 'UA-49981756-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://' : 'http://') + 'stats.g.doubleclick.net/dc.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
</script>

	        

</body>
</html>
